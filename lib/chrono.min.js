(function(){var e,t,n=[].slice;e=function(){function e(){var e,t;e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],this.precision=e!=null?e:1e3,this.tickHandlers=t,this.reset()}return e.prototype.start=function(){var e=this;return this.handler?this:(this.__callHandlers(),this.handler=setInterval(function(t){return e.__tick(t)},this.precision),this)},e.prototype.stop=function(){return this.handler&&clearInterval(this.handler),this.handler=null,this},e.prototype.reset=function(e){return this.__ticks=e!=null?e:0,this.stop(),this},e.prototype.__tick=function(){var t;return this.__ticks++,e.prototype.optimized||(t=Math.floor(this.__ticks*precision/1e3),this.seconds=t%60,this.minutes=Math.floor(t/60)%60,this.hours=Math.floor(t/3600)),this.__callHandlers(),this},e.prototype.__callHandlers=function(){var e,t,n,r;r=this.tickHandlers;for(t=0,n=r.length;t<n;t++)e=r[t],e(this.__ticks,this);return this},e}(),Object.defineProperty&&(e.prototype.optimized=!0,Object.defineProperty(e.prototype,"__date",{get:function(){return new Date(this.__ticks*this.precision)},set:function(e){return this.__ticks=e.getTime()/this.precision,e}}),Object.defineProperty(e.prototype,"seconds",{get:function(){return this.__date.getSeconds()},set:function(e){var t;return t=this.__date,t.setSeconds(e),this.__date=t,e}}),Object.defineProperty(e.prototype,"minutes",{get:function(){return this.__date.getMinutes()},set:function(e){var t;return t=this.__date,t.setMinutes(e),this.__date=t,e}}),Object.defineProperty(e.prototype,"hours",{get:function(){return this.__date.getHours()},set:function(e){var t;return t=this.__date,t.setHours(e),this.__date=t,e}})),t=typeof exports!="undefined"&&exports!==null?exports:this,t.Chrono=e}).call(this);