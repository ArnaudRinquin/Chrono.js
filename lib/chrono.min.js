(function(){var e,t,n,r=[].slice;e=function(){function e(){var e,n,i;n=arguments[0],i=2<=arguments.length?r.call(arguments,1):[],this.tickHandlers=i,e={precision:1e3,maxTicks:void 0,stopAtMaxTicks:!1},this.settings=t(e,n),this.reset()}return e.prototype.start=function(){var e=this;return this.__handlers?this:(this.__callHandlers(),this.__handlers=setInterval(function(t){return e.__tick(t)},this.settings.precision),this.ticking=!0,this)},e.prototype.stop=function(){return this.__handlers&&clearInterval(this.__handlers),this.__handlers=null,this.ticking=!1,this},e.prototype.reset=function(e){return this.__ticks=e!=null?e:0,this.stop(),this},e.prototype.__tick=function(){var t;return this.__ticks++,this.settings.stopAtMaxTicks&&this.__ticks===this.settings.maxTicks&&this.stop(),e.prototype.optimized||(t=Math.floor(this.__ticks*this.settings.precision/1e3),this.seconds=t%60,this.minutes=Math.floor(t/60)%60,this.hours=Math.floor(t/3600)),this.__callHandlers(),this},e.prototype.__callHandlers=function(){var e,t,n,r;r=this.tickHandlers;for(t=0,n=r.length;t<n;t++)e=r[t],e(this.__ticks,this,this.__ticks===this.settings.maxTicks);return this},e}(),Object.defineProperty&&(e.prototype.optimized=!0,Object.defineProperty(e.prototype,"__date",{get:function(){return new Date(-36e5+this.__ticks*this.settings.precision)},set:function(e){return this.__ticks=(36e5+e.getTime())/this.settings.precision,e}}),Object.defineProperty(e.prototype,"seconds",{get:function(){return this.__date.getSeconds()},set:function(e){return this.__date=new Date(this.__date.setSeconds(e)),e}}),Object.defineProperty(e.prototype,"minutes",{get:function(){return this.__date.getMinutes()},set:function(e){var t;return t=this.__date,t.setMinutes(e),this.__date=t,e}}),Object.defineProperty(e.prototype,"hours",{get:function(){return this.__date.getHours()},set:function(e){var t;return t=this.__date,t.setHours(e),this.__date=t,e}}),Object.defineProperty(e.prototype,"__dateToMax",{get:function(){var e,t;return t=this.settings,e=(t.maxTicks-this.__ticks)*t.precision,new Date(-36e5+e)}}),Object.defineProperty(e.prototype,"secondsToMax",{get:function(){return this.settings.maxTicks?this.__dateToMax.getSeconds():void 0}}),Object.defineProperty(e.prototype,"minutesToMax",{get:function(){return this.settings.maxTicks?this.__dateToMax.getMinutes():void 0}}),Object.defineProperty(e.prototype,"hoursToMax",{get:function(){return this.settings.maxTicks?this.__dateToMax.getHours():void 0}})),t=function(e,t){var n,r;for(n in t)r=t[n],e[n]=r;return e},n=typeof exports!="undefined"&&exports!==null?exports:this,n.Chrono=e}).call(this);